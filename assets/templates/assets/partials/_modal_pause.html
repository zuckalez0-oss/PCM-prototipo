<div x-show="showPauseModal" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
    class="fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm" style="display: none;">

    <div @click.away="showPauseModal = false" x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 scale-95 translate-y-4"
        x-transition:enter-end="opacity-100 scale-100 translate-y-0"
        class="bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden border border-slate-200">

        <!-- Header -->
        <div class="bg-amber-50 px-6 py-4 border-b border-amber-100 flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center text-amber-600">
                <i class="ph-bold ph-pause text-xl"></i>
            </div>
            <div>
                <h3 class="text-lg font-bold text-slate-800">Pausar Atividade</h3>
                <p class="text-xs text-slate-500">Justifique a parada desta tarefa.</p>
            </div>
        </div>

        <!-- Form -->
        <form hx-post="{% url 'alterar_status' atividade.id 'pausada' %}" hx-target="#kanban-container"
            hx-vals='{"view_mode": "board"}' hx-swap="innerHTML" @submit="showPauseModal = false">

            <div class="p-6">
                <label for="justificativa_{{ atividade.id }}" class="block text-sm font-semibold text-slate-700 mb-2">
                    Motivo da Pausa <span class="text-red-500">*</span>
                </label>
                <textarea id="justificativa_{{ atividade.id }}" name="justificativa" rows="3" required
                    class="w-full text-sm border-slate-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 placeholder:text-slate-400"
                    placeholder="Ex: Falta de peças, Horário de almoço, Prioridade alterada..."></textarea>
            </div>

            <!-- Footer -->
            <div class="bg-slate-50 px-6 py-4 flex justify-end gap-3 border-t border-slate-100">
                <button type="button" @click="showPauseModal = false"
                    class="px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-800 hover:bg-slate-200 rounded-lg transition-colors">
                    Cancelar
                </button>
                <button type="submit"
                    class="px-4 py-2 text-sm font-bold text-white bg-amber-500 hover:bg-amber-600 rounded-lg shadow-sm transition-all transform active:scale-95 flex items-center gap-2">
                    <i class="ph-bold ph-pause"></i>
                    Confirmar Pausa
                </button>
            </div>
        </form>
    </div>
</div>